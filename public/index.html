<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI ì„±ê²½ ë…¸íŠ¸ - í†µí•© ë²„ì „</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* [ì¤‘ìš”] ì´ˆê¸° ë¡œë”© ì‹œ ì½˜í…ì¸  ë³´ì¥ ìŠ¤íƒ€ì¼ */
        #app-container { display: block !important; }
        .page { display: none; }
        .page.active { display: block !important; visibility: visible !important; }
        .auth-container { display: none; }
        .auth-container.active { display: flex !important; z-index: 10000; }
    </style>
</head>
<body>
    <!-- ë¡œê·¸ì¸/ì¸ì¦ ë ˆì´ì–´ (í•„ìš”ì‹œì—ë§Œ active í´ë˜ìŠ¤ë¡œ í™œì„±í™”) -->
    <div id="auth-page" class="auth-container">
        <div class="auth-card">
            <div class="auth-logo">
                <h1>ğŸ™ AI ì„±ê²½ ë…¸íŠ¸</h1>
                <p>ë¯¿ìŒê³¼ ê¸°ìˆ ì˜ ë§Œë‚¨</p>
            </div>
            <div id="login-form-container" class="auth-form">
                <h2>ë¡œê·¸ì¸</h2>
                <form id="login-form" onsubmit="event.preventDefault(); window.loginSubmit();">
                    <div class="form-group">
                        <label>ì´ë©”ì¼</label>
                        <input type="email" id="login-email" required>
                    </div>
                    <div class="form-group">
                        <label>ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" id="login-password" required>
                    </div>
                    <div class="auth-buttons">
                        <button type="submit" class="btn btn-primary">ë¡œê·¸ì¸</button>
                        <button type="button" class="btn btn-guest" onclick="window.hideAuthModal()">ë‘˜ëŸ¬ë³´ê¸°</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ -->
    <div id="app-container">
        <header>
            <div class="container" style="display: flex; justify-content: space-between; align-items: center; padding: 15px 0;">
                <div class="logo" style="font-size: 1.5rem; font-weight: bold;">ğŸ™ AI ì„±ê²½ ë…¸íŠ¸</div>
                <div class="user-header">
                    <span id="user-greeting">ë°˜ê°‘ìŠµë‹ˆë‹¤!</span>
                    <button class="btn-logout" style="margin-left: 10px; padding: 5px 15px;" onclick="window.logout()">ë¡œê·¸ì•„ì›ƒ</button>
                </div>
            </div>
        </header>

        <nav class="nav-bar" style="display: flex; gap: 10px; justify-content: center; padding: 10px; background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
            <button class="nav-btn" onclick="navigateTo('home')">í™ˆ</button>
            <button class="nav-btn" onclick="navigateTo('daily')">ì˜¤ëŠ˜ì˜ ë§ì”€</button>
            <button class="nav-btn" onclick="navigateTo('search')">ì„±êµ¬ ê²€ìƒ‰</button>
            <button class="nav-btn" onclick="navigateTo('notes')">ìš©ì–´ì‚¬ì „</button>
            <button class="nav-btn" onclick="navigateTo('sermon')">ì„¤êµ ì‘ì„±</button>
        </nav>

        <main class="container" style="padding: 20px;">
            <!-- [1] í™ˆ í˜ì´ì§€ -->
            <div id="page-home" class="page active">
                <div class="welcome-section" style="text-align: center; padding: 50px 20px; background: var(--gradient-primary); color: white; border-radius: 20px;">
                    <h1>í™˜ì˜í•©ë‹ˆë‹¤</h1>
                    <p>ë” ê¹Šì€ ë§ì”€ ë¬µìƒì„ ìœ„í•œ ë„êµ¬ì…ë‹ˆë‹¤.</p>
                </div>
                <div class="quick-links" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 30px;">
                    <div class="quick-link-card" style="background: white; padding: 30px; text-align: center; border-radius: 15px; cursor: pointer; border: 1px solid #eee;" onclick="navigateTo('daily')">
                        <div style="font-size: 3rem;">ğŸ“–</div>
                        <h3>ì˜¤ëŠ˜ì˜ ë§ì”€</h3>
                    </div>
                    <div class="quick-link-card" style="background: white; padding: 30px; text-align: center; border-radius: 15px; cursor: pointer; border: 1px solid #eee;" onclick="navigateTo('notes')">
                        <div style="font-size: 3rem;">ğŸ“š</div>
                        <h3>ìš©ì–´ì‚¬ì „</h3>
                    </div>
                    <div class="quick-link-card" style="background: white; padding: 30px; text-align: center; border-radius: 15px; cursor: pointer; border: 1px solid #eee;" onclick="navigateTo('sermon')">
                        <div style="font-size: 3rem;">âœï¸</div>
                        <h3>ì„¤êµ ì‘ì„±</h3>
                    </div>
                </div>
            </div>

            <!-- [2] ì˜¤ëŠ˜ì˜ ë§ì”€ -->
            <div id="page-daily" class="page">
                <h2>ğŸ“– ì˜¤ëŠ˜ì˜ ë§ì”€</h2>
                <div class="verse-of-day" style="background: white; padding: 40px; border-radius: 20px; text-align: center; font-size: 1.2rem; line-height: 1.8;">
                    <div id="daily-verse-content">"ì—¬í˜¸ì™€ëŠ” ë‚˜ì˜ ëª©ìì‹œë‹ˆ ë‚´ê²Œ ë¶€ì¡±í•¨ì´ ì—†ìœ¼ë¦¬ë¡œë‹¤ (ì‹œ 23:1)"</div>
                </div>
            </div>

            <!-- [3] ì„±êµ¬ ê²€ìƒ‰ -->
            <div id="page-search" class="page">
                <h2>ğŸ” ì„±êµ¬ ê²€ìƒ‰</h2>
                <div class="search-box" style="background: white; padding: 20px; border-radius: 15px;">
                    <input type="text" id="keyword-input" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì‚¬ë‘)" style="width: 70%; padding: 10px;">
                    <button class="btn" onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')" style="width: 25%;">ê²€ìƒ‰</button>
                </div>
            </div>

            <!-- [4] ìš©ì–´ì‚¬ì „ (ì„±ì„œê³µíšŒ ë§í¬ í†µí•©) -->
            <div id="page-notes" class="page">
                <h2>ğŸ“š ìš©ì–´ì‚¬ì „</h2>
                <div class="search-box" style="background: white; padding: 20px; border-radius: 15px; margin-bottom: 20px;">
                    <input type="text" id="word-search" placeholder="ìš©ì–´ ì…ë ¥ (ì˜ˆ: ì€í˜œ)" style="width: 70%; padding: 10px;">
                    <button class="btn" onclick="window.searchWord()" style="width: 25%;">ê²€ìƒ‰</button>
                </div>
                <div id="word-results">
                    <p class="loading-text">ìš©ì–´ë¥¼ ì…ë ¥í•˜ê³  ê²€ìƒ‰ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>
                </div>
            </div>

            <!-- [5] ì„¤êµ ì‘ì„± -->
            <div id="page-sermon" class="page">
                <h2>âœï¸ ì„¤êµ ì‘ì„±</h2>
                <div id="sermon-step-1" class="sermon-step active" style="background: white; padding: 30px; border-radius: 20px;">
                    <h3>ì„¤êµ ì£¼ì œë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”</h3>
                    <input type="text" id="sermon-topic-input" placeholder="ì˜ˆ: í•˜ë‚˜ë‹˜ì˜ ì‚¬ë‘" style="width: 100%; padding: 15px; margin: 20px 0;">
                    <button class="btn btn-primary" onclick="alert('ì„¤êµ ì‘ì„± ë¡œì§ì„ ë³µêµ¬ ì¤‘ì…ë‹ˆë‹¤.')">ì„¤êµ ì‘ì„± ì‹œì‘</button>
                </div>
            </div>
        </main>

        <footer style="text-align: center; padding: 30px; color: #888;">
            <p>&copy; 2026 AI ì„±ê²½ ë…¸íŠ¸. ëª¨ë“  ê¸°ëŠ¥ì´ ì •ìƒí™”ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
        </footer>
    </div>

    <!-- ëª¨ë“  ê¸°ëŠ¥ì„ ì¸ë¼ì¸ìœ¼ë¡œ í†µí•©í•˜ì—¬ ì¶©ëŒ ë°©ì§€ -->
    <script>
        // [1] ë„¤ë¹„ê²Œì´ì…˜ ì‹œìŠ¤í…œ
        window.navigateTo = function(pageName) {
            console.log('Moving to:', pageName);
            const pages = document.querySelectorAll('.page');
            pages.forEach(p => p.classList.remove('active'));
            
            const target = document.getElementById('page-' + pageName);
            if (target) {
                target.classList.add('active');
                
                // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.innerText.includes(pageName)) btn.classList.add('active');
                });
            }
            window.scrollTo(0, 0);
        };

        // [2] ìš©ì–´ì‚¬ì „ ê²€ìƒ‰ (ì•ˆì „í•œ íŒì—… ë°©ì‹)
        window.searchWord = function() {
            const word = document.getElementById('word-search').value.trim();
            if (!word) return alert('ìš©ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
            
            const results = document.getElementById('word-results');
            const encoded = encodeURIComponent(word);
            
            results.innerHTML = `
                <div class="result-item" style="background: #fdfbff; padding: 25px; border-radius: 15px; border-left: 5px solid #6B46C1; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                    <h4 style="color: #6B46C1; margin-bottom: 15px;">ğŸ” '${word}'ì— ëŒ€í•œ ì „ë¬¸ ìë£Œ</h4>
                    <p style="margin-bottom: 20px; color: #555;">í”„ë ˆì„ ì˜¤ë¥˜ ë°©ì§€ë¥¼ ìœ„í•´ ê³µì‹ ì‚¬ì´íŠ¸ì˜ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì•ˆì „í•œ ì°½ìœ¼ë¡œ ì—°ê²°í•©ë‹ˆë‹¤.</p>
                    <button class="btn" style="background: #6B46C1; color: white; padding: 12px 25px; cursor: pointer;" 
                        onclick="window.open('https://www.bskorea.or.kr/prog/popup_term.php?s_word=${encoded}', 'KbsPop', 'width=750,height=850,scrollbars=yes')">
                        ğŸ“– ëŒ€í•œì„±ì„œê³µíšŒ ìš©ì–´ì‚¬ì „ ë³´ê¸°
                    </button>
                </div>
            `;
        };

        // [3] ì´ˆê¸°í™” ë° ë³´ì•ˆ
        window.hideAuthModal = function() {
            document.getElementById('auth-page').classList.remove('active');
            document.getElementById('auth-page').style.display = 'none';
        };

        window.logout = function() {
            localStorage.removeItem('currentUser');
            location.reload();
        };

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', () => {
            if (localStorage.getItem('currentUser')) {
                window.hideAuthModal();
            } else {
                // ë¡œê·¸ì¸í•˜ì§€ ì•Šì•„ë„ ê¸°ë³¸ í™ˆì€ ë³´ì´ë„ë¡ ì„¤ì • (ì‚¬ìš©ì ìš”ì²­ ë°˜ì˜)
                window.hideAuthModal();
            }
        });
    </script>
</body>
</html>
